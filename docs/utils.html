<div>
    <h1>utils</h1>

    <p>工具类，包含了一些常用方法，部分从angularjs里面拿来。</p>

    <br />

    <h3>copy</h3>
    <div class="bs-callout bs-callout-info">
        <h4>utils.copy(source, destination)</h4>
        <p>深度copy对象</p>
        <h4>参数</h4>
        <p>
            source(object) - 源对象。<br />
            destination(object) - 目标对象，可为空。<br />
        </p>
        <h4>返回值</h4>
        <p>
            object - 复制的对象
        </p>
    </div>
<pre class="prettyprint">
var a = [1,2,3],b,c=[]
b = vui.utils.copy(a)   
// b == [1,2,3]
vui.utils.copy(a, c)
// c == [1,2,3]

var a = {a:1,b:2}, b, c = {}
b = vui.utils.copy(a)
// b == {a:1,b:2}
vui.utils.copy(a, c)
// c == {a:1,b:2}
    </pre>

    <br />

    <h3>equals</h3>
    <div class="bs-callout bs-callout-info">
        <h4>utils.equals(o1, o2)</h4>
        <p>判断对象是否相等</p>
        <h4>参数</h4>
        <p>
            o1(object) - 第一个对象。<br />
            o2(object) - 第二个对象。<br />
        </p>
        <h4>返回值</h4>
        <p>
            bool
        </p>
    </div>
<pre class="prettyprint">
var a = [1,2,3], b = []
vui.utils.equals(a, b) //false
b = [1,3,2]
vui.utils.equals(a, b) //false
b = [1,2,3]
vui.utils.equals(a, b) //true</pre>

    <br />

    <h3>toJson</h3>
    <div class="bs-callout bs-callout-info">
        <h4>utils.toJson(obj)</h4>
        <p>object转为json字符串</p>
        <h4>参数</h4>
        <p>
            obj(object)
        </p>
        <h4>返回值</h4>
        <p>
            string
        </p>
    </div>
<pre class="prettyprint">
var a = { a:1, b:2, e:{ d:'999' } }
vui.utils.toJson(a) 
// '{"a":1,"b":2,"e":{"d":"999"}}'</pre>

    <br />

    <h3>fromJson</h3>
    <div class="bs-callout bs-callout-info">
        <h4>utils.fromJson(str)</h4>
        <p>json字符串转为object</p>
        <h4>参数</h4>
        <p>
            str(string)
        </p>
        <h4>返回值</h4>
        <p>
            object
        </p>
    </div>
<pre class="prettyprint">
var a = '{"a":1,"b":2,"e":{"d":"999"}}'
vui.utils.fromJson(a) 
// { a:1, b:2, e:{ d:'999' } }</pre>

    <br />

    <h3>toBoolean</h3>
    <div class="bs-callout bs-callout-info">
        <h4>utils.toBoolean(obj)</h4>
        <p>object转为bool</p>
        <h4>参数</h4>
        <p>
            obj(object)
        </p>
        <h4>返回值</h4>
        <p>
            bool
        </p>
    </div>

    <br />

    <h3>parseKeyValue</h3>
    <div class="bs-callout bs-callout-info">
        <h4>utils.parseKeyValue(str)</h4>
        <p>queryString字符串转为object</p>
        <h4>参数</h4>
        <p>
            str(string)
        </p>
        <h4>返回值</h4>
        <p>
            object
        </p>
    </div>
<pre class="prettyprint">
var a = 'a=1&b=2&c=3'
vui.utils.parseKeyValue(a) 
// { a:1, b:2, c:3 }</pre>

    <br />

    <h3>toKeyValue</h3>
    <div class="bs-callout bs-callout-info">
        <h4>utils.toKeyValue(obj)</h4>
        <p>object转为queryString字符串</p>
        <h4>参数</h4>
        <p>
            obj(object)
        </p>
        <h4>返回值</h4>
        <p>
            string
        </p>
    </div>
<pre class="prettyprint">
var a = { a:1, b:2, c:3 }
vui.utils.toKeyValue(a) 
// 'a=1&b=2&c=3'</pre>

    <br />

    <h3>extend</h3>
    <div class="bs-callout bs-callout-info">
        <h4>utils.extend(dst, obj, ...)</h4>
        <p>object转为queryString字符串</p>
        <h4>参数</h4>
        <p>
            dst(object) - 扩展的目标对象<br />
            obj(object) - 任意多个对象
        </p>
        <h4>返回值</h4>
        <p>
            dst(object)
        </p>
    </div>
<pre class="prettyprint">
var a = { a:1, b:2, c:3 },
    b = { b:4 },
    c = { c:2, d:5 }
vui.utils.extend(a, b, c) 
// a == {a: 1, b: 4, c: 2, d: 5}</pre>

    <br />

    <h3>contains</h3>
    <div class="bs-callout bs-callout-info">
        <h4>utils.contains(array, obj)</h4>
        <p>判断数组中是否包含指定对象</p>
        <h4>参数</h4>
        <p>
            array(Array) - 数组<br />
            obj(object) - 指定对象
        </p>
        <h4>返回值</h4>
        <p>
            bool
        </p>
    </div>
<pre class="prettyprint">
var a = [1,2,3]
vui.utils.contains(2)
// true</pre>

    <br />

    <h3>arrayRemove</h3>
    <div class="bs-callout bs-callout-info">
        <h4>utils.arrayRemove(array, value)</h4>
        <p>从数组中移除指定对象</p>
        <h4>参数</h4>
        <p>
            array(Array) - 数组<br />
            value(object) - 指定对象
        </p>
        <h4>返回值</h4>
        <p>
            value(object) - 对象本身
        </p>
    </div>
<pre class="prettyprint">
var a = [1,4,3,2]
vui.utils.arrayRemove(a, 2)
// a == [1,4,3]</pre>

    <br />

    <h3>forEach</h3>
    <div class="bs-callout bs-callout-info">
        <h4>utils.forEach(obj, fn)</h4>
        <p>从数组中移除指定对象</p>
        <h4>参数</h4>
        <p>
            obj(Array or Object) - 数组或者Object<br />
            fn(function) - 回调函数，obj为Object时参数为 (value, key) ，为Array是参数为 (value, index)
        </p>
    </div>
<pre class="prettyprint">
vui.utils.forEach([1,4,3,2], function (v, i) { 
    console.log(i + ":" + v) 
})
// 0:1
// 1:4
// 2:3
// 3:2 </pre>

    <br />

    <h3>noop</h3>
    <div class="bs-callout bs-callout-info">
        <h4>utils.noop</h4>
        <p>空方法</p>
    </div>
<pre class="prettyprint">
function foo(callback) {
    var result = calculateResult();
    (callback || vui.utils.noop)(result);
}</pre>

    <br />

    <h3>hashCode</h3>
    <div class="bs-callout bs-callout-info">
        <h4>utils.hashCode(obj)</h4>
        <p>把对象转为字符串，计算hash值</p>
        <h4>参数</h4>
        <p>
            obj(Object) - 非空对象，包含function
        </p>
        <h4>返回值</h4>
        <p>
            int
        </p>

    </div>
<pre class="prettyprint">
vui.utils.hashCode(alert)
// 705841295
vui.utils.hashCode('alert')
// 92899676
</pre>

    <br />

    <h3>makeMap</h3>
    <div class="bs-callout bs-callout-info">
        <h4>utils.makeMap(str)</h4>
        <p>string转为keyValue对象</p>
        <h4>参数</h4>
        <p>
            str(string)
        </p>
        <h4>返回值</h4>
        <p>
            object
        </p>

    </div>
<pre class="prettyprint">
vui.utils.makeMap('a,b,c')
// {a: true, b: true, c: true}
</pre>

    <br />

    <h3>nextUid</h3>
    <div class="bs-callout bs-callout-info">
        <h4>utils.nextUid()</h4>
        <p>获取uid，唯一性只在当前页面</p>
        <h4>返回值</h4>
        <p>
            string
        </p>

    </div>
<pre class="prettyprint">
vui.utils.nextUid()
// A001
</pre>

    <br />

    <h3>encodeUriSegment</h3>
    <div class="bs-callout bs-callout-info">
        <h4>utils.encodeUriSegment(str)</h4>
        <p>uri编码</p>
        <h4>参数</h4>
        <p>
            str(string)
        </p>
        <h4>返回值</h4>
        <p>
            string
        </p>

    </div>
<pre class="prettyprint">
vui.utils.encodeUriSegment('?a=中文&b=c+5&c=@test')
// "%3Fa=%E4%B8%AD%E6%96%87&b=c+5&c=@test"
</pre>

    <br />

    <h3>urlResolve</h3>
    <div class="bs-callout bs-callout-info">
        <h4>utils.urlResolve(url, fixhash)</h4>
        <p>url地址解析为object</p>
        <h4>参数</h4>
        <p>
            url(string) - 待解析的url地址<br />
            fixhash(bool) - 是否处理<code>#!/</code>格式的hash，默认值为<code>false</code>
        </p>
        <h4>返回值</h4>
        <p>
            object
        </p>

    </div>
<pre class="prettyprint">
var url = vui.utils.urlResolve('/path/#!/index.html?a=1&b=2#abc', true)
/*
url == {
    hash: "abc",
    host: "localhost:5000",
    hostname: "localhost",
    href: "http://localhost:5000/path/index.html?a=1&b=2#abc",
    pathname: "/path/index.html",
    port: "5000",
    protocol: "http",
    search: "a=1&b=2"
}*/</pre>

    <br />

    <h3>isDescendant</h3>
    <div class="bs-callout bs-callout-info">
        <h4>utils.isDescendant(parent, child)</h4>
        <p>判断Element内是否包含另一Element</p>
        <h4>参数</h4>
        <p>
            parent(element) - 父元素<br />
            child(element) - 子元素</code>
        </p>
        <h4>返回值</h4>
        <p>
            bool
        </p>

    </div>
<pre class="prettyprint">
var url = vui.utils.isDescendant(document, document.body)
// true
</pre>

    <br />

    <h3>hasClass</h3>
    <div class="bs-callout bs-callout-info">
        <h4>utils.hasClass(el, className)</h4>
        <p>判断元素是否包含指定class</p>
        <h4>参数</h4>
        <p>
            el(element) - 元素<br />
            className(string) - class名称</code>
        </p>
        <h4>返回值</h4>
        <p>
            bool
        </p>

    </div>
<pre class="prettyprint">
vui.utils.hasClass(document.body, 'body-class')
// false
</pre>

    <br />

    <h3>addClass</h3>
    <div class="bs-callout bs-callout-info">
        <h4>utils.addClass(el, className)</h4>
        <p>给元素增加指定class</p>
        <h4>参数</h4>
        <p>
            el(element) - 元素<br />
            className(string) - class名称</code>
        </p>
    </div>
<pre class="prettyprint">
// &lt;body class="test"&gt;
vui.utils.addClass(document.body, 'body-class')
// &lt;body class="test body-class"&gt;
</pre>

    <br />

    <h3>removeClass</h3>
    <div class="bs-callout bs-callout-info">
        <h4>utils.removeClass(el, className)</h4>
        <p>给元素移除指定class</p>
        <h4>参数</h4>
        <p>
            el(element) - 元素<br />
            className(string) - class名称</code>
        </p>
    </div>
<pre class="prettyprint">
// &lt;body class="test body-class"&gt;
vui.utils.removeClass(document.body, 'body-class')
// &lt;body class="test"&gt;
</pre>

    <br />

    <h3>toggleClass</h3>
    <div class="bs-callout bs-callout-info">
        <h4>utils.toggleClass(el, className)</h4>
        <p>如果元素不包含指定class，增加，包含则移除。</p>
        <h4>参数</h4>
        <p>
            el(element) - 元素<br />
            className(string) - class名称</code>
        </p>
    </div>
<pre class="prettyprint">
// &lt;body class="test body-class"&gt;
vui.utils.toggleClass(document.body, 'body-class')
// &lt;body class="test"&gt;
vui.utils.toggleClass(document.body, 'body-class')
// &lt;body class="test body-class"&gt;
</pre>

</div>
